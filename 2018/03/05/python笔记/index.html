<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="jqcc" type="application/atom+xml">






<meta name="description" content="# -- coding: utf-8 --  魔法注释 防止中文注释报错 导包 先搜索当前路径 其次搜索PYTHONPATH环境变量 最后搜索默认路径  可在sys.path中查看添加包路径: 1、直接修改sys.path.append(new_path);  2、设置环境变量PYTHONPATH包下面必须有 __init__.py  否则只是普通文件夹">
<meta property="og:type" content="article">
<meta property="og:title" content="python笔记">
<meta property="og:url" content="http://yoursite.com/2018/03/05/python笔记/index.html">
<meta property="og:site_name" content="jqcc">
<meta property="og:description" content="# -- coding: utf-8 --  魔法注释 防止中文注释报错 导包 先搜索当前路径 其次搜索PYTHONPATH环境变量 最后搜索默认路径  可在sys.path中查看添加包路径: 1、直接修改sys.path.append(new_path);  2、设置环境变量PYTHONPATH包下面必须有 __init__.py  否则只是普通文件夹">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-05T09:24:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python笔记">
<meta name="twitter:description" content="# -- coding: utf-8 --  魔法注释 防止中文注释报错 导包 先搜索当前路径 其次搜索PYTHONPATH环境变量 最后搜索默认路径  可在sys.path中查看添加包路径: 1、直接修改sys.path.append(new_path);  2、设置环境变量PYTHONPATH包下面必须有 __init__.py  否则只是普通文件夹">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/03/05/python笔记/">





  <title>python笔记 | jqcc</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">jqcc</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/05/python笔记/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="jqcc">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="jqcc">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">python笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-05T16:34:09+08:00">
                2018-03-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p># -<em>- coding: utf-8 -</em>-  魔法注释 防止中文注释报错</p>
<p>导包 先搜索当前路径 其次搜索PYTHONPATH环境变量 最后搜索默认路径  可在sys.path中查看<br>添加包路径: 1、直接修改sys.path.append(new_path);  2、设置环境变量PYTHONPATH<br>包下面必须有 __init__.py  否则只是普通文件夹</p>
<a id="more"></a>
<p>创建一个名为xxx的虚拟环境 不需要root权限<br>    $ virtualenv xxx<br>    $ cd xxx/<br>    $ source bin/activate<br>当不再使用虚拟环境中的库时，可以通过释放命令来退出环境<br>    $ deactivate</p>
<p>方向键乱码  easy_install readline</p>
<hr>
<p>xx:共有变量<br>_xx:单前置下划线 私有化属性方法 form model import *禁止导入 类对象和子类可以访问<br>__xx:双前置下划线 避免与子类中属性命名冲突 无法在类外部直接访问(名字重整)<br>__xx__:双前后下划线 用户名字空间的魔法对象或属性 如<strong>init</strong> 不用自己定义<br>xx_:单后置下划线 用于避免和python关键词冲突<br>类中的__func() 和 __member 不可被外部直接访问  但可以通过_className__func()或_className__member访问  此机制为 命名重整(name mangling)</p>
<p>isinstance(var, type); 判断var是不是 type类型  type可以使用tuple 意为或者</p>
<hr>
<pre><code>class className:
    __slots__ = (&apos;att1&apos;, &apos;att2&apos;, ... , &apos;attn&apos;)
</code></pre><p>仅允许给类添加 att1-attn这些实例   否则AttributeError异常<br>__slots__定义的属性仅对当前类实例起作用，对继承的子类是不起作用的：</p>
<p>from model import *  会导入模块所以内容<br>在模块内指定 __all__ = [‘var1’,’var2’,…,’varn’]  则导入时 只导var1-varn  别的不导入</p>
<hr>
<p>动态给类添加函数</p>
<pre><code>&gt;&gt;&gt; def set_age(self, age): # 定义一个函数作为实例方法
...     self.age = age
...
&gt;&gt;&gt; from types import MethodType
&gt;&gt;&gt; s.set_age = MethodType(set_age, s) # 给实例绑定一个方法
&gt;&gt;&gt; s.set_age(25) # 调用实例方法
</code></pre><hr>
<p>使用@property  可以将一个函数变成一个属性 使用.直接访问<br>使用@property时 @property本身会创建另一个@score.setter的装饰器 来完成赋值运算<br>要是没有实现这个函数  则属性为只读属性</p>
<pre><code>class Student(object):

    @property
    def score(self):
        return self._score

    @score.setter
    def score(self, value):
        if not isinstance(value, int):
            raise ValueError(&apos;score must be an integer!&apos;)
        if value &lt; 0 or value &gt; 100:
            raise ValueError(&apos;score must between 0 ~ 100!&apos;)
        self._score = value
</code></pre><p>obj = property(getter, setter) 使用这个函数绑定两个函数 也可以实现效果 规定顺序 getter在前 obj可以和实际变量不同名</p>
<hr>
<p>className.__mro__ 包含了成员调用属性或方法的对象查找顺序<br>要是想指定调用可以使用 className().fun()<br>super().fun()  调用的函数 也是__mro__的第一个</p>
<p>type(var)  返回var的变量类型<br>dir()<br>eval() 函数可计算某个字符串，并执行其中的的 python 代码。<br>print(end=””) 默认换行  加上参数end=var 可在结束时打印end的内容而不是换行</p>
<p>类属性 实例属性<br>类方法 实例方法 静态方法</p>
<hr>
<p>格式符号    转换<br>%c            字符<br>%s            通过str() 字符串转换来格式化<br>%i            有符号十进制整数<br>%d            有符号十进制整数<br>%u            无符号十进制整数<br>%o            八进制整数<br>%x            十六进制整数（小写字母）<br>%X            十六进制整数（大写字母）<br>%e            索引符号（小写’e’）<br>%E            索引符号（大写“E”）<br>%f            浮点实数<br>%g            ％f和％e 的简写<br>%G            ％f和％E的简写</p>
<hr>
<p>列表  list = [var1, var2, var3, var4]<br>字典  dict = {key1:var1, key2:var2}<br>元组 tuple = (var1, var2, var3, var4)<br>集合   set = {var1, var2, var3, var4}<br>enumerate()可以遍历下标</p>
<pre><code>&gt;&gt;&gt; for i, var in enumerate(vars):
...     print i, chr
</code></pre><hr>
<p>列表list<br>mix = [‘小不点’, 3.14, [1,2,3]]  列表中可以存放任意类型的数据<br>len(list)  返回list的长度<br>list.append(var)  将var添加到列表尾<br>list.extend(list2)  将另一个list的元素添加进来<br>list.insert(pos, var)  将var添加到pos位置<br>可以直接通过索引访问list<br>list.remove(var)  将var移除list 移除不存在的值会报错<br>del list[pos]  将list[pos]移除<br>del list[st,ed]  将[st,ed)删除<br>del list  将整个列表删除 注:此时list已不在内存中  而不是空列表<br>list.pop()  移除并返回list的最后一个元素<br>list.pop(pos)  将索引值为pos的值移除并返回<br>list(st,ed)  将[st,ed)之间的元素返回<br>list之间的比较是从第一个元素开始比较大小，一旦出结果就返回，若两着元素不匹配(无法比较大小)会抛出错误<br>list1 = list1 + list2  将两个list拼接<br>list <em> n  list </em>= n   将list自身连接n次<br>var in list  var not in list   返回bool值  var是否在list中<br>  (对于列表里的列表不可查询) list=[1,[‘sj’]]  ‘sj’ in list 返回false  ‘sj’ in list[1] 返回true<br>dir(list)  列出list的函数<br>list.count(var)  统计var出现的次数<br>list.index(var)  查找var第一次出现的位置<br>list.index(var,st,ed)  查找var在[st,ed)中第一次出现的位置<br>list.reverse()  翻转list<br>list.sort()  排序 小到大 默认使用归并排序<br>list.sort(reverse=True)  排序大到小<br>list=list2[:] 深拷贝 只是a=[1,2,3] b=a[:]同级别深拷贝  如果a=[list1, list2] b=a[:] 则list1 list2还是浅拷贝<br>            import copy   b=copy.deepcopy(a)  递归深拷贝<br>            b=copy.copy(a)则相当于  b=a[:] 因为元组不可变 所以对元组此方法为浅拷贝<br>list=list2  浅拷贝<br>list = list.append(val)  会把list清空 append返回值为空</p>
<hr>
<p>字典dictionary<br>键唯一不可变  值不唯一可变  不可切片<br>dict[key] = val  添加<br>dict.update({otherDict})  将另一个dict的元素添加进来<br>del dict[key]  删除一组(key-val)<br>dict[key]  如果key不存在会出现异常<br>dict.get(key, default)  存在返回值，不存在返回默认值 默认为None<br>dict.keys() dict.values() dict.items()</p>
<hr>
<p>元组tuple<br>稳固版列表，内容不可修改，可被查看</p>
<p>函数可以返回多个值  底层是tuple</p>
<hr>
<p>集合set<br>无序 不重复 不可切片 不可索引<br>set.add(var)<br>set.discard(var)<br>x in set 判断set中是否有x</p>
<hr>
<p>string 为不可变对象 string的任何操作都不会影响原串 只将操作后的串当做返回值返回<br>strip() 去除前后空格<br>s.strip(rm)        删除s字符串中开头、结尾处，位于 rm删除序列的字符<br>s.lstrip(rm) s.rstrip(rm)      删除s字符串中开头|结尾处，位于 rm删除序列的字符<br>s.find(str, start=0, end=len(s)        查找指定字符串  找着返回下标 否则返回-1<br>s.rfind(str, start=0, end=len(s)    右边开始找<br>s.index(str, start=0, end=len(s)    作用同find() 找不着抛出异常<br>s.rindex(str, start=0, end=len(s)    右边开始找<br>s.count(str, start=0, end=len(s)    查找str出现的次数<br>s.replace(str1, str2, s.count(str1))将str1替换为str2 不超过count次<br>s.split(str=” “, 2) 以 str 为分隔符切片 s，如果 maxsplit有指定值，则仅分隔 maxsplit 个子字符串<br>                    若以空白(“ “ \t \n等)为分隔符  则str参数直接不写即可<br>s.capitalize()        第一个单词的首字母大写<br>s.title()            所有单词的首字母大写<br>s.startswith(str) s.endswith(str)    判断是否以str开头|结束 返回值为bool<br>s.lower() s.upper()        大写-&gt;小写 | 小写-&gt;大写<br>s.ljust(n) s.rjust(n) s.center(n)  将字符串填充空格值长度为n 居左|右|中显示字符串<br>s.partition(str) | rpartition(str) 把s以str分割成三部分,s前，s和s后 | 右边开始找str<br>s.splitlines()    按照行分隔，返回一个包含各行作为元素的列表<br>s.isalpha s.isdigit s.isalnum    s只包含 字母|数字|字母数字<br>s.isspace()        如果 s 中只包含空格，则返回 True，否则返回 False.<br>s.join(str)        str为list 使用s连接str中每一个元素</p>
<hr>
<p>+= 操作调用 __iadd__方法，没有该方法时，再尝试调用__add__方法</p>
<ul>
<li>操作调用__add__方法<br>__iadd__方法直接在原对象a1上进行更新，该方法的返回值为None<br>__add__方法会返回一个新的对象，原对象不修改<br>因为对于不可变对象，根本没有 __iadd__方法，所以+=和+的效果是一样的，因为调的都是 __add__ 方法</li>
</ul>
<hr>
<p>文件相关操作:<br>f = open(‘filename’, ‘[r|w|a等]’)<br>f.read() f.read(n) f.readline() f.readlines() 全读|读n个字节|读一行|类似全读但返回行的列表<br>f.write()<br>f.seek(offset, from=(0|1|2)) 文件指针定位到0(头)|1(当前)|2(尾)的偏移offset(可正可负)个字节的位置 越界出异常<br>f.tell() 返回文件指针的当前位置<br>f.close()<br>import os<br>os.rename(“oldname”, “newname”) 重命名文件<br>os.remove(“filename”) 删除文件<br>os.mkdir(“dirname”) 创建文件夹<br>os.rmdir(“dirname”) 删除文件夹<br>os.getcwd() 获取当前路径==pwd<br>os.chdir(“path”) 跳转文件夹<br>os.listdir(“path”) ls path下的文件</p>
<hr>
<p>进程相关操作:<br>import os<br>os.fork() 效果同linux系统调用fork 两个返回值 0为子进程 父进程返回子进程id(windows无此函数)<br>os.getpid() 获取当前进程id<br>os.getppid() 获取父进程id</p>
<p>跨平台库 multiprocessing  主进程等子进程执行完<br>from multiprocessing import Process<br>p = Process(target=func, args=(var, var2, …, varn)) func为子进程要执行的函数 args为参数元组<br>p.start() 进程开始执行<br>p.join([timeout])  等待进程结束 或等待timeout秒</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/05/linux笔记/" rel="next" title="linux笔记">
                <i class="fa fa-chevron-left"></i> linux笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/03/hello-world/" rel="prev" title="Hello World">
                Hello World <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">jqcc</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jqcc</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
  <script type="text/javascript" src="/js/src/love.js"></script>
</html>
